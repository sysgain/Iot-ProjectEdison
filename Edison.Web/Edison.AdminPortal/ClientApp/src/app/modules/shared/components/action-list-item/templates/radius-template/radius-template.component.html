<app-action-list-item-state
  [status]="context.status"
  [loading]="context.loading"
></app-action-list-item-state>
<app-icon
  icon="light"
  round="true"
  [color]="context.parameters.color"
  size="large"
></app-icon>
<div class="content-container">
  <div>
    Connected Lights {{ context.parameters.radius }} Radius:
    <span class="color-text" *ngIf="!canEdit">{{ activeColor }}</span>
  </div>
  <div class="error" *ngIf="context.status === actionStatus.Skipped">
    Set response location to manage lights.
  </div>
  <div class="error" *ngIf="context.status === actionStatus.Error">
    {{ context.errorMessage }}
  </div>
  <div *ngIf="canEdit" class="colors-container">
    <button
      class="colorBtn"
      tabindex="540"
      (click)="updateColor(actionPlanColor)"
      *ngFor="let actionPlanColor of actionPlanColors; let i = index"
      [ngClass]="{
        active: actionPlanColor.toLowerCase() === activeColor.toLowerCase()
      }"
    >
      {{ actionPlanColor }}
    </button>
  </div>
</div>
<div class="line-hider" *ngIf="last"></div>
